modificaitons:

User is now a class
Vertex contains two arrays , items and players instead of things

